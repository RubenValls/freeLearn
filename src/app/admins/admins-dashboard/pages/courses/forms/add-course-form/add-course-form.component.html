<form [formGroup]="courseForm" (ngSubmit)="addCourse()" class="formCourse">
    <mat-form-field>
        <mat-label>Course name</mat-label>
        <input matInput formControlName="name" type="text">
        <mat-error *ngIf="courseForm.controls['name'].touched && courseForm.controls['name'].invalid">
            Please, assign a name to the course.
        </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Course description</mat-label>
        <textarea matInput formControlName="description" cdkTextareaAutosize
        cdkAutosizeMinRows="10"
        ></textarea>
        <mat-error *ngIf="courseForm.controls['description'].touched && courseForm.controls['description'].invalid">
          Description is required.
        </mat-error>
      </mat-form-field>

    <mat-form-field>
        <mat-label>Introduction video URL</mat-label>
        <input matInput formControlName="introductionURL" type="text">
        <mat-error *ngIf="courseForm.controls['introductionURL'].touched && courseForm.controls['introductionURL'].invalid">
            Introduction video is required.
        </mat-error>
    </mat-form-field>

    <mat-form-field>
        <mat-label>Select a instructor</mat-label>
        <mat-select multiple (selectionChange)="onInstructorSelectionChange($event)" formControlName="instructorId">
            <mat-option *ngFor="let instructor$ of instructors$" [value]="{id: instructor$.id, name: instructor$.name}">
                {{instructor$.name}}
            </mat-option>
        </mat-select>
        <mat-error *ngIf="courseForm.controls['instructorId'].touched && courseForm.controls['instructorId'].invalid">
            Please, assign instructor name
        </mat-error>
    </mat-form-field>

    <mat-form-field>
        <mat-label>Select technologies</mat-label>
        <mat-select placeholder="Techs" multiple (selectionChange)="onTechsSelectionChange($event)"
            formControlName="techs">
            <mat-option *ngFor="let tech$ of techs$" [value]="{id: tech$.id, name: tech$.name}">
                {{tech$.name}}
            </mat-option>

        </mat-select>
        <mat-error *ngIf="courseForm.controls['techs'].touched && courseForm.controls['techs'].invalid">
            Please, select at least one technology
        </mat-error>
    </mat-form-field>

    <mat-form-field>
        <mat-label>image path</mat-label>
        <input matInput formControlName="imageUrl" type="text">
        <mat-error *ngIf="courseForm.controls['imageUrl'].touched && courseForm.controls['imageUrl'].invalid">
            Please, add a image
        </mat-error>
    </mat-form-field>



    <div class="button-container">
        <button mat-raised-button color="primary" type="submit" [disabled]="!courseForm.valid">Add Course</button>
    </div>
    

</form>